{% extends 'beheer/base.html' %} {% block content %} {% load crispy_forms_tags
%}
<script
    src="https://cdn.jsdelivr.net/npm/html5sortable@0.10.0/dist/html5sortable.min.js"
    integrity="sha256-2kOsIp+HlL6PTr598TKXWLwgxJ3hb5dt5uKLLBVOhTo="
    crossorigin="anonymous"
></script>
<h2>Nieuwe leider:</h2>
<form method="POST">
    {% csrf_token %}
    <div class="mb-3">{{ newForm|crispy }}</div>
    <div class="mb-3">
        <button type="submit" class="btn btn-success">Toevoegen</button>
    </div>
</form>
<h2>Volgorde aanpassen:</h2>
<div class="col col-6">
    <ul
        class="ml4 js-sortable sortable list flex flex-column list-reset"
        aria-dropeffect="move"
    >
        <li
            class="p1 mb1 navy bg-yellow"
            style="position: relative; z-index: 10"
            draggable="true"
            role="option"
            aria-grabbed="false"
        >
            Item 5
        </li>
        <li
            class="p1 mb1 navy bg-yellow"
            style="position: relative; z-index: 10"
            draggable="true"
            role="option"
            aria-grabbed="false"
        >
            Item 3
        </li>
        <li
            class="p1 mb1 navy bg-yellow"
            style="position: relative; z-index: 10"
            draggable="true"
            role="option"
            aria-grabbed="false"
        >
            Item 1
        </li>

        <li
            class="p1 mb1 navy bg-yellow"
            style="position: relative; z-index: 10"
            draggable="true"
            role="option"
            aria-grabbed="false"
        >
            Item 6
        </li>
        <li
            class="p1 mb1 navy bg-yellow"
            style="position: relative; z-index: 10"
            draggable="true"
            role="option"
            aria-grabbed="false"
        >
            Item 4
        </li>
        <li
            class="p1 mb1 navy bg-yellow"
            style="position: relative; z-index: 10"
            draggable="true"
            role="option"
            aria-grabbed="false"
        >
            Item 2
        </li>
    </ul>
    <button class="ml4 js-serialize-button button navy bg-yellow">
        Serialize
    </button>
    <script type="text/javascript">
        sortable('.js-sortable', {
            forcePlaceholderSize: true,
            placeholderClass: 'mb1 bg-navy border border-yellow',
            hoverClass: 'bg-maroon yellow',
            itemSerializer: function (item, container) {
                item.parent = '[parentNode]';
                item.node = '[Node]';
                item.html = item.html.replace('<', '&lt;');
                return item;
            },
            containerSerializer: function (container) {
                container.node = '[Node]';
                return container;
            }
        });
        document
            .querySelector('.js-serialize-button')
            .addEventListener('click', function () {
                let serialized = sortable('.js-sortable', 'serialize');
                document.querySelector(
                    '.serialized-content'
                ).innerHTML = JSON.stringify(serialized, null, ' ');
            });
    </script>
</div>
{% endblock content%}
